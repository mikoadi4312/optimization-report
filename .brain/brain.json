{
    "meta": {
        "schema_version": "1.1.0",
        "awf_version": "3.3.0"
    },
    "project": {
        "name": "yusuf-adi-pratama---optimization-report-10",
        "type": "Electron Desktop App",
        "status": "In Development"
    },
    "tech_stack": {
        "frontend": {
            "framework": "React 19",
            "bundler": "Vite",
            "language": "TypeScript"
        },
        "backend": {
            "framework": "Electron (Main Process)",
            "runtime": "Node.js"
        },
        "database": {
            "type": "Local File System / Excel Files",
            "orm": "None (xlsx-js-style)"
        }
    },
    "database_schema": {
        "summary": "Application relies on importing Excel files for reporting data. No persistent SQL database.",
        "tables": [
            {
                "name": "SaleOrder",
                "columns": [
                    "orderCode",
                    "customerName",
                    "createdDate",
                    "deliveryDate",
                    "outputStore",
                    "totalAmount"
                ]
            },
            {
                "name": "TransferGoodsData",
                "columns": [
                    "transportVoucher",
                    "outputStore",
                    "inputStore",
                    "transferStoreDate",
                    "inventoryStatus"
                ]
            },
            {
                "name": "DepositToolsData",
                "columns": [
                    "store",
                    "inOutVoucher",
                    "customerName",
                    "date",
                    "paymentAmount",
                    "voucherReference"
                ]
            },
            {
                "name": "FifoMistakeRow",
                "columns": [
                    "storeName",
                    "am",
                    "phoneSaleOut",
                    "phoneMistake",
                    "phonePercent",
                    "tablet...",
                    "tv...",
                    "speaker..."
                ]
            },
            {
                "name": "StaffMistakeResumeRow",
                "columns": [
                    "no",
                    "am",
                    "storeName",
                    "staffName",
                    "phone",
                    "tablet",
                    "tv",
                    "speaker",
                    "total"
                ]
            },
            {
                "name": "IncentiveStaffRow",
                "columns": [
                    "staff",
                    "total",
                    "products..."
                ]
            }
        ]
    },
    "api_endpoints": [
        {
            "path": "Local File Processing",
            "explained": "Parses uploaded Excel files using services/excelService.ts"
        }
    ],
    "features": [
        {
            "name": "FIFO Mistake Report",
            "status": "Active",
            "description": "Analyzes FIFO violations for Phone, Tablet, TV, Speaker categories based on Excel inputs (Sales vs Validations)."
        },
        {
            "name": "Staff FIFO Mistake Report",
            "status": "Active",
            "description": "Detailed breakdown of FIFO mistakes by individual staff members. Uses 'Detail-First' logic and specific Output Type mapping."
        },
        {
            "name": "Deposit Tools Report",
            "status": "Active",
            "description": "Tracks deposit tools usage/payments. Includes 'Voucher Concert' logic to exclude paired Refund/Deposit transactions."
        },
        {
            "name": "Transfer Goods Report",
            "status": "Active",
            "description": "Tracks goods transferred between stores."
        },
        {
            "name": "Revenue & Incentive",
            "status": "In Progress",
            "description": "Calculates staff revenue and incentives based on sales data."
        }
    ],
    "knowledge_items": {
        "gotchas": [
            {
                "issue": "Excel Parsing",
                "solution": "Uses xlsx-js-style. Large files (>60MB) require 'dense: true' in read options to avoid memory issues."
            },
            {
                "issue": "Store/AM Mapping",
                "solution": "Relies on an 'AM Data' Excel file to map Store Codes/Names to Area Managers and Grand Opening (G.O.) dates."
            },
            {
                "issue": "Deposit Tools Pairing",
                "solution": "Transactions with 'Voucher Concert' pairing (Refund referencing Deposit) are automatically excluded. Duplicates only keep the latest entry."
            },
            {
                "issue": "Staff FIFO Date Period",
                "solution": "Report period is calculated from Min/Max dates of ALL Sales Data to show coverage, not just mistake dates. 1st-of-month end dates are displayed as previous day (month-end)."
            },
            {
                "issue": "Detail File Classification",
                "solution": "Mistake Type (CO, Full Exchange, etc.) is derived from 'Output Type' column in the Detail file, not the Sales Data."
            }
        ]
    }
}